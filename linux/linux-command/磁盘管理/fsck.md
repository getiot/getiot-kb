---
sidebar_position: 20
slug: /fsck
---

# fsck 命令



## 介绍

**fsck**（英文全拼：file system check）命令用于检查与修复 Linux 文件系统，并且可以同时检查一个或多个 Linux 文件系统。

**语法**：

```bash
fsck [-sACVRP] [-t fstype] [--] [fsck-options] filesys [...]
```

**选项**：

- `-a`：自动修复文件系统，不询问任何问题。
- `-A`：依照 /etc/fstab 配置文件的内容，检查文件内所列的全部文件系统。
- `-N`：不执行指令，仅列出实际执行会进行的动作。
- `-P`：当搭配 "`-A`" 参数使用时，则会同时检查所有的文件系统。
- `-r`：采用互动模式，在执行修复时询问问题，让用户得以确认并决定处理方式。
- `-R`：当搭配"-A"参数使用时，则会略过/目录的文件系统不予检查。
- `-s`：依序执行检查作业，而非同时执行。
- `-t <文件系统类型>`：指定要检查的文件系统类型。
- `-T`：执行 fsck 指令时，不显示标题信息。
- `-V`：显示指令执行过程。

**参数**：指定文件系统 filesys，可以是设备名或挂载点。



## 示例

检查 msdos 文件系统的 /dev/hda5 是否正常，如果有异常便自动修复 :

```bash
$ sudo fsck -t msdos -a /dev/hda5
```

Linux 的文件系统损坏会导致系统不正常关机，出错的时候如果系统提示是哪一块硬盘的分区有问题，比如是 /dev/hda2，接着就可以用如下的命令去对付它：

```bash
$ sudo fsck -y /dev/hda2
```

结束后使用 reboot 命令重启系统这样就好了！

如果不知道时哪个地方出了问题，可以直接：

```bash
$ sudo fsck
```

在随后的多个确认对话框中输入 `:y`

结束后同样使用 reboot 命令重启系统这样就好了！

